# Air Quality Monitor

**ESPHome 기반** NodeMCU v3 실내 공기질 측정 및 자동 제어 시스템

## 📋 개요

이 프로젝트는 ESPHome을 사용하여 실내 공기질을 실시간으로 모니터링하고, 측정값에 따라 환기팬, 공기청정기 등의 기기를 자동으로 제어하는 스마트 시스템입니다.

## 📊 측정 센서

### 1. 이산화탄소 (CO₂) + 온습도

- **센서**: SCD30
- **측정 범위**: 
  - CO₂: 400-40000 ppm
  - 온도: -40°C ~ +70°C
  - 습도: 0% ~ 100% RH
- **통신**: I2C
- **ESPHome 플랫폼**: `scd30`
- **특징**: CO₂, 온도, 습도를 하나의 센서로 측정
- **용도**: 실내 환기 상태 및 쾌적도 모니터링

### 2. 미세먼지 (Particulate Matter)
- **센서**: PMS 시리즈 (PMS5003/PMS7003)
- **측정 항목**: 
  - PM1.0 (초미세먼지)
  - PM2.5 (미세먼지) 
  - PM10 (가시먼지)
- **단위**: μg/m³
- **통신**: UART 시리얼 통신
- **ESPHome 플랫폼**: `pmsx003`

### 3. 온습도 (Temperature & Humidity) - 선택사항

- **센서**: SHT20 또는 AHT20
- **측정 범위**: 
  - 온도: -40°C ~ +125°C
  - 습도: 0% ~ 100% RH
- **통신**: I2C
- **ESPHome 플랫폼**: `htu21d` (SHT20 호환)
- **참고**: SCD30이 온습도를 제공하므로 선택사항

### 4. VOC (휴발성유기화합물)
- **센서**: SGP40
- **측정 항목**:
  - VOC Index (0-500)
- **통신**: I2C
- **ESPHome **: `sgp4x`
- **특징**: 온습도 보정으로 정확도 향상
- **용도**: 실내 공기 오염물질 감지

## 🔧 하드웨어 구성

### 메인 컨트롤러
- **NodeMCU v3** (ESP8266 기반)
- **ESPHome 플랫폼**: 펌웨어 자동 관리
- **WiFi 연결**: 원격 모니터링 및 제어

### 디스플레이 옵션 (선택사양)
| 타입 | 모델 | 해상도 | 통신 | ESPHome 지원 |
|------|------|--------|------|-------------|
| TFT LCD | ST7735 | 128x128 | SPI | ✅ `st7735` |
| OLED | SSD1306/SH1106 | 128x64 | I2C/SPI | ✅ `ssd1306` |
| E-Paper | EPD 2.9"/4.2" | 296x128/400x300 | SPI | ✅ `waveshare_epaper` |

### 센서 모듈
| 센서 | 모델 | 통신 | ESPHome 플랫폼 | 상태 |
|------|------|------|----------------|------|
| CO₂/온습도 | SCD30 | I2C | `scd30` | ✅ 구현완료 |
| 미세먼지 | PMS 시리즈 | UART | `pmsx003` | ✅ 구현완료 |
| VOC | SGP40 | I2C | `sgp4x` | ✅ 구현완료 |
| 온습도 | SHT20/AHT20 | I2C | `htu21d` | ⚠️ 선택사항 |

### 기타 구성요소
- **RGB LED**: 공기질 상태 시각 표시
- **CO₂ 보정 버튼**: 아날로그 입력 (3초 길게 누르기)
- **하드웨어 제어**: 3개 GPIO 출력 (릴레이 제어용)
- **연결성**: WiFi, Home Assistant API, 웹서버


